<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Fit</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <!--<link rel="stylesheet" href="style.css">-->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap');

        body {
            margin: auto;
            font-family: 'Poppins', sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        .nav_bar {
            margin: auto;
            background-color: #6A889C;
            height: 3.5rem;
            position: fixed;
            width: 100%;
        }

        .nav_bar ul {
            list-style: none;
            display: flex;
            align-items: center;
            padding-top: 7px;
            margin-top: 0.5rem;
        }

        .nav_bar ul li {
            display: inline-block;
            margin: 0 auto;
        }

        .nav_bar ul li a {
            text-decoration: none;
            color: white;
        }

        .nav_bar ul li a:hover {
            color: black;
            font-weight: 600;
        }


        .content {
            padding-top: 3.5rem;
            margin: 0rem 1rem;
        }

        .code,
        .imple {
            padding-top: 5rem;
            margin-left: 1rem;

        }

        #gap2 {
            padding: 0rem 1.5rem 0rem 1.5rem;
        }

        #gap3 {
            padding-right: 4rem;
        }

        .buttons {
            color: white;
        }

        #container1,
        #container2,
        #container3 {
            font-size: 0.9rem;
            font-weight: 600;
        }

        #container3>h6 {
            font-weight: 600;
        }

        h6 {
            font-weight: 600;
        }

        .name {
            font-size: 20px;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <nav class="nav_bar">
        <ul>
            <li><a button type="button" class="buttons" id="gap1" onclick="content()">Description</a></li>
            <li><a button type="button" class="buttons" id="gap2" onclick="imple()">Implementation</a></li>
            <li><a button type="button" class="buttons" id="gap3" onclick="code()">Code</a></li>
        </ul>
    </nav>
    <div id="content" class="content">
        
        <p class="name"><b>FIRST FIT</b></p>
        <div id="container1">
            <p>First Fit is a memory allocation scheme which fits data into memory by scanning from the beginning of available memory to the end, until the first free space which is at least big enough to accept the data is found. This space is then allocated to the data. It is fast in processing. As the processor allocates the nearest available memory partition to the data, it is very fast in execution.
</p>
        </div>

        <!--p>class="name"><b>ALGORITHM</b></p>
        <div id="container2">
            <p>1. Input memory blocks with size and processes with size.<br><br>
2. Initialize all memory blocks as free.<br><br>
3. Start by picking each process and check if it can be assigned to current block. <br><br>
4. If size-of-process <= size-of-block if yes then assign and check for next process.<br><br>
5. If not then keep checking the further blocks.
</p>
        </div-->

        <p class="name"><b>COMPLEXITY</b></p>
        <div id="container2">
            <p>
The Complexity of First Fit Algorithm is O(nlogn),<br>
where 'n' is number of processes.
</p>
        </div>

        <p class="name"><b>WORKING</b></p>
        <div id="container3">
            <p>
Let us consider an example.<br>
<br>Memory blocks available are : {100, 50, 30, 120, 35}<br>
<br>Process sizes are : {20, 60, 70, 40}<br>
  <br><b>Process P1, size: 20</b><br>
  <br>
  <li>OS searches memory sequentially from starting.</li><br>
  <li>Block 1 fits, P1 gets assigned to Block 1.</li><br>
  <br><b>Process P2, size: 60</b><br>
  <br>
  <li>OS searches memory sequentially from Block 1 again.</li><br>
  <li>Block 1 is unavailable, Block 2 and 3 can’t fit.</li><br>
  <li>Block 4 fits, P2 assigned to Block 4.</li><br>
  <br><b>Process P3, size: 70</b><br>
  <br>
  <li>OS searches memory sequentially from Block 1 again</li><br>
  <li>Block 1 is unavailable, Block 2 and 3 can’t fit. Block 4 unavailable, Block 5 can’t fit.</li>
  <br>
  <li>P3 remains unallocated.</li><br>
  <br><b>Process P4, size: 40</b><br>
  <br>
  <li>OS searches memory sequentially from Block 1 again</li><br>
  <li>Block 1 is unavailable, Block 2 fits.</li><br>
  <li>P4 is assigned to Block 2.</li><br>
  
</p>
        </div>

    </div>

    <div id="code" class="code" style="display:none;">
        <pre><h6>function firstFit(blockSize,m,processSize,n) {

  // Stores block id of the block allocated to a process
  const allocation = [];
                 
  // Initially no block is assigned to any process
  for (let i = 0; i < allocation.length; i++)
      allocation[i] = -1;
                 
  // pick each process and find suitable blocks according to its size and assign to it
  for (let i = 0; i < n; i++)
  {
      for (let j = 0; j < m; j++)
      {
          if (blockSize[j] >= processSize[i])
          {
            // allocate block j to p[i] process
            allocation[i] = j;
                 
            // Reduce available memory in this block.
            blockSize[j] -= processSize[i];
                 
            break;
          }
      }
    }
  }
</h6></pre>
    </div>
    </div>
    <div id="imple" class="imple" style="display:none">
        <div class="implementation">
   
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h5>Enter block sizes one by one: </h5>
                <input type="number" class="form-control" id="input1" placeholder="Enter a valid number:">
            </div>
        </div><br>
        <button onclick="add('input1')" class="btn btn-primary" id="add()">Add</button><br><br>
        <h6 id="every1"></h6>
        <div class="row">
            
            <div class="col-md-4">
                <h5>Enter process sizes one by one: </h5>
                <input type="number" class="form-control" id="input2" placeholder="Enter a valid number:">
            </div>
        </div><br>
        <button onclick="add('input2')" class="btn btn-primary" id="add()">Add</button><br><br>
        <h6 id="every2"></h6>
        <h5>Click the below button to get result :</h5>
        <button class="btn btn-primary" onclick="firstFit()">Submit</button><br><br>
        <h6 id="result"></h6>
    </div>
</div>
<script type="text/javascript">
    var input1 = document.getElementById("input1");
    var input2 = document.getElementById("input2");
    input1.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            event.preventDefault();
            document.getElementById("add('input1')").click();
        }
    });
    input2.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            event.preventDefault();
            document.getElementById("add('input2')").click();
        }
    });
    var i = 0;
    var j = 0;
    var str1 = ""
    var blockSize = [];
    var processSize = [];
    function add(given_input) {
        var val = document.getElementById(given_input).value;
        if (given_input === 'input1') {
            blockSize[i] = parseInt(val);
            document.getElementById("every1").innerHTML = blockSize;
            i++;
        } else if (given_input === 'input2') {
            processSize[j] = parseInt(val);
            document.getElementById("every2").innerHTML = processSize;
            j++;
        }
        document.getElementById(given_input).value = "";
    }

    function firstFit() {
        var str = "";
        let m = blockSize.length;
        let n = processSize.length;
        var a = [];

        const allocation = [];

        for (let i = 0; i < allocation.length; i++)
            allocation[i] = -1;

        for (let i = 0; i < n; i++) {
            str1 += '<br>' + '<br>' + '<h4><u>Process ' + (i + 1) + '</h4></u>';
            for (let j = 0; j < m; j++) {


                str1 += "Process " + (i + 1) + " checks for Block " + (j + 1) + '<br>';

                if (blockSize[j] >= processSize[i]) {

                    allocation[i] = j;
                    str1 += "Block " + (j + 1) + ' size (' + blockSize[j] + ') > Process ' + (i + 1) + ' size (' + processSize[i] + ') <br>' + 'Block ' + (j + 1) + ' is allocated to Process ' + (i + 1);



                    //blockSize[j] -= processSize[i];
                    blockSize[j] = 0;
                    a[j] = i + 1

                    break;
                }
                else if (blockSize[j] == 0) {
                    str1 += "Block " + (j + 1) + ' is already occupied by process ' + (a[j]) + ' ,unavaialble<br>'
                }
                else {
                    str1 += "Block " + (j + 1) + ' size (' + blockSize[j] + ') < Process ' + (i + 1) + ' size (' + processSize[i] + ') <br>' + 'Process ' + (i + 1) + ' cannot fit in Block ' + (j + 1) + '<br>';
                }
                str1 += '<br>'
            }
            if (allocation[i] == null) {
                str1 += "Process " + (i + 1) + " remains unallocated<br>"
            }

        }
        str += "<h4>Result :</h4>"
        str += "Process-No" + '&emsp;' + "Process-Size" + '&emsp;' + '&emsp;' + "Block-No";
        str += "<br>";
        for (let i = 0; i < n; i++) {
            let s = "Not Allocated"
            if (allocation[i] > -1) {
                str += (i + 1) + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + processSize[i] + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + (allocation[i] + 1);
                str += "<br>";
            } else {
                str += (i + 1) + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + processSize[i] + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + '&emsp;' + "NA";
                str += "<br>";
            }
        }
        document.getElementById("result").innerHTML = str1 + '<br>' + str;
    }

    function show() {
        document.getElementById("codes").style.display = "block";
    }
</script>
</body>

</html>
    </div>
    <script>
         function code() {
            var y = document.getElementsByClassName("code");
            y[0].style.display = "block";
            var z = document.getElementsByClassName("content");
            z[0].style.display = "none";
            var x = document.getElementsByClassName("imple");
            x[0].style.display = "none";
        }
        function imple() {
            var p = document.getElementsByClassName("imple");
            p[0].style.display = "block";
            var q = document.getElementsByClassName("content");
            q[0].style.display = "none";
            var r = document.getElementsByClassName("code");
            r[0].style.display = "none";
        }
        function content() {
            var a = document.getElementsByClassName("content");
            a[0].style.display = "block";
            var b = document.getElementsByClassName("imple");
            b[0].style.display = "none";
            var c = document.getElementsByClassName("code");
            c[0].style.display = "none";
        }
    </script>

</body>

</html>